(defsrc
								ins
  esc
  grv  1    2    3    4    5    6    7    8    9    0    -    =    bspc
  tab  q    w    e    r    t    y    u    i    o    p    [    ]    \
  caps a    s    d    f    g    h    j    k    l    ;    '    ret
  lsft <    z    x    c    v    b    n    m    ,    .    /    rsft
  lctl lmet lalt           spc            ralt rmet rctl
)

(deflayer base
								@go-qwerty
  caps
  grv  1    2    3    bspc    5    6    7    @go-mayus    9    bspc    -    =    bspc
  tab   @numbersp   @mouse   @lm @la b  j @ra @rm @ctalt @one-ralt @go-mayus ]  _
  esc  a @ls @ragr @flechas g @numbers2 @numbers @ragrl @rs u caps ret
  z  x  x   c     @lc v    z  @rc @rs2 _ @go-flayer      Enter rsft
  lctl lmet lalt           spc            ralt rmet rctl
)
(deflayer qwerty
								@go-colemak
  esc
  grv  1    2    3    4    5    6    7    8    9    0    -    =    bspc
  tab  q    w    e    r    t    y    u    i    o    p    [    ]    \
  caps a    s    d    f    g    h    j    k    l    ;    '    ret
  lsft <    z    x    c    v    b    n    m    ,    .    /    rsft
  lctl lmet lalt           spc            ralt rmet rctl
)

(deflayer symbols
								_
  esc
  grv  1    2    3    4    5    S-6    S-7   S-8    S-9   S-0    S-5    +    bspc
  tab  S-2   S-[    S-]    S-4    S-grv    S-6    S-7    [    ]    S-5    [    ]    \
  caps `    S-'    /    S-;    '    -    S-9   S-0   S--   S-1    '    ret
  S-=  =   \    S-\    S-/    S-3  S-=  ;    S-,    S-.    =    /    rsft
  lctl lmet lalt           spc            ralt rmet rctl
)

(defalias
  one-ralt (one-shot-release 500 ralt)
  go-qwerty (layer-switch qwerty)
  go-colemak (layer-switch base)
)
(defvar
  tap-time 220
  hold-time 220
  hold-numbers 200
  hold-alt 200
  control 205
  tap-alt 220
  mayus 191
  symbt 191
  accentt 150
)
(defalias
  ra (multi f24 (tap-hold $tap-alt $hold-alt l lalt))
  la (multi f24 (tap-hold $tap-alt $hold-alt p lalt))
  rm (multi f24 (tap-hold-release-timeout $tap-time $hold-time o lmet lmet))
  lm (multi f24 (tap-hold $tap-time $hold-time f lmet))
  rc (multi f24 (tap-hold-except-keys $control $control k lctrl (i)))
  lc (multi f24 (tap-hold $control $control d lctrl))
  lc2 (multi f24 (tap-hold $control $control < lctrl))
  rs (multi f24 (tap-hold-except-keys 0 $mayus i rshift (o n m)))
  rs2 (multi f24 (tap-hold-except-keys $mayus $mayus h (multi lctrl rshift) (o n m)))
  ls (multi f24 (tap-hold-except-keys 0 $mayus r rshift (a)))
  ragr (multi f24 (tap-hold 0 $symbt s (layer-toggle symbols)))
  ragrl (multi f24 (tap-hold 0 $symbt e (layer-toggle symbols)))
  flechas (multi f24 (tap-hold 0 $hold-time t (layer-toggle arrows)))
  mouse (multi f24 (tap-hold $tap-time $hold-time w (layer-toggle mouse)))
  flechasp (tap-dance 200 (p (layer-switch arrows)))
  go-base (layer-switch base)
  go-mayus (layer-switch mayus)
  go-flayer (multi f24 (tap-hold 0 $mayus . (layer-toggle f-layer)))
  numbers (multi f24 (tap-hold 0 $hold-numbers n (layer-toggle numbers)))
  numbers2 (multi f24 (tap-hold $tap-time $hold-time m (layer-toggle numbers)))
  numbersp (tap-dance 200 (q (layer-switch numbers)))

  accents (multi f24 (tap-hold $tap-time $hold-time < (layer-toggle accents)))
  accentsy (multi f24 (tap-hold-press $accentt $accentt o (layer-toggle accents)))
  accentsw (multi f24 (tap-hold-press-timeout $accentt $accentt w (layer-toggle accents) w))

  ctalt (multi f24 (tap-hold 200 200 y (multi alt lctrl)))
  c-s (multi lctrl rshft)
  Ã± (multi ralt n)
  atras (multi lalt left)
  adelante (multi lalt right)


  rmeta (multi f24 (tap-hold $control $control . lmet))
  rcontrol (multi f24 (tap-hold $control $control , lctrl))

)


(defalias
  go-mouse (layer-switch mouse)
  mouse-up (movemouse-accel-up 8 1000 2 5)
  mouse-down (movemouse-accel-down 8 1000 2 5)
  mouse-left (movemouse-accel-left 8 1000 2 5)
  mouse-right (movemouse-accel-right 8 1000 2 5)

  msâ†‘ (movemouse-up 6 5)
  msâ†“ (movemouse-down 6 5)
  msâ† (movemouse-left 6 6)
  msâ†’ (movemouse-right 6 6)

  mwu (mwheel-up 1 1)
  mwd (mwheel-down 1 1)
  mwl (mwheel-left 1 1)
  mwr (mwheel-right 1 1)

  mwuf (mwheel-up 1 7)
  mwdf (mwheel-down 1 2)
  mwlf (mwheel-left 1 2)
  mwrf (mwheel-right 1 2)

  scrlu (tap-dance-eager 200 ((layer-while-held mouse-scroll) @mwuf))
)
(defalias
  td2 (tap-dance-eager 500 (
    (macro <) ;; use macro to prevent auto-repeat of the key
    (macro [ a)
  ))
  acute (macro [ a)
  ecute (macro [ k)
  icute (macro [ l)
  ocute (macro [ i)
  ucute (macro [ ;)
  wa (macro w a)
  wh (macro w m)
)
(defalias
  cw (caps-word 2000)

  ;; This example is similar to the default caps-word behaviour but it moves the
  ;; 0-9 keys to the capitalized key list from the extra non-terminating key list.
  cwc (caps-word-custom
    2000
    (a b c d e f g h i j k l m n o p q r s t u v w x y z 0 1 2 3 4 5 6 7 8 9 ; < .)
    (kp0 kp1 kp2 kp3 kp4 kp5 kp6 kp7 kp8 kp9 bspc del up down left rght)
  )
  mayus-alt-left (tap-hold 137 $symbt S-s (layer-while-held symbols))
  mayus-alt-right (tap-hold 137 $symbt S-e (layer-while-held symbols))
)
(deflayer mouse
								_
caps
 grv  1    2    3    4    5    6    7    8    9    0    -    =    bspc
 caps  mlft   @mouse @go-mouse (layer-while-held mouse-fast) _    _ mlft  @mouse-up  mrtp menu  _ _ _
 @go-base  lctrl @lc (layer-while-held mouse-scroll) (layer-while-held mouse-fast) _ home @mouse-left @mouse-down @mouse-right _ _ _
 _  _  _   _     _ _   _    _  mmtp _ _      _ _
 lctl lmet lalt           spc            ralt rmet rctl
)
(deflayer move
								_
  esc
  grv  1    2    3    4    5    6    7    8    9    0    -    =    bspc
  tab  q    w    e    r    t    y    u    i    o    p    [    ]    \
  caps a    s    d    f    g    h    j    k    l    ;    '    ret
  lsft <    z    x    c    v    b    n    m    ,    .    /    rsft
  lctl lmet lalt           spc            ralt rmet rctl
)
(deflayer mouse-fast
								_
caps
 grv  1    2    3    4    5    6    7    8    9    0    -    =    bspc
 @go-base  mlft   @mouse @go-mouse mlft _    _ mltp  @msâ†‘  mrtp _  _ _ _ 
 @go-base  _ @lc (layer-while-held mouse-scroll) mltp _ home @msâ† @msâ†“ @msâ†’ end _ _
 _  _  _   _     _ _   _    _  _ _ _     Enter _
 lctl lmet lalt           spc            ralt rmet rctl
)
(defalias
)
(deflayer mouse-scroll
								_
caps
 grv  1    2    3    4    5    6    7    8    9    0    -    =    bspc
 _  @go-base   _   @ls _ _    _ mltp  @mwu  mrtp _  _ _ _
 _  _ @lc @ragr @flechas _ home @mwl @mwd @mwr end _ _
 _  _  _   _     _ _     _  _  _ _ _    Enter _
 lctl lmet lalt           spc            ralt rmet rctl
)

(deflayer mouse-scroll-slow
								_
caps
 grv  1    2    3    4    5    6    7    @go-base    9    Backspace    -    =    bspc
 _  @go-base   _   @ls _ _    _ mltp  @mwu  mrtp _  _ _ _
 _  _ @lc @ragr @flechas _ home @mwl @mwd @mwr end _ _
 _  _  _   _     _ _     _  _  _ _ _    Enter _
 lctl lmet lalt           spc            ralt rmet rctl
)

(deflayer mouse-scroll-fast
								_
caps
 grv  1    2    3    4    5    6    7    @go-base    9    Backspace    -    =    bspc
 _  @go-base   _   @ls _ _    _ mltp  @mwuf  mrtp _  _ _ _
 _  _ @lc @ragr @flechas _ home @mwlf @mwdf @mwrf end _ _
 _  _  _   _     _ _   _    _  _ _ _    Enter _
 lctl lmet lalt           spc            ralt rmet rctl
)

(deflayer mayus
								_
caps
 grv  1    2    3    bspc    5    6    7    @go-base    9    Backspace    -    =    bspc
 @go-base S-q S-w S-f S-p S-b S-j S-l S-o S-y RA-y @go-base  _ _
 @go-base    S-a S-r @mayus-alt-left S-t S-g S-m S-n @mayus-alt-right S-i S-u _ _
 S-z S-z S-x S-c S-d S-v lrld S-k S-h _ _     (multi Enter @go-base) _
 lctl lmet lalt           (multi Space @go-base)            ralt rmet rctl
)

(deflayer arrows
								_
caps
 grv  1    2    3    4    5    6    7    8    9    0    -    =    bspc
 @go-base  @go-base   menu   @ls _ volu         _  @atras  up  @adelante menu  @go-base _ _
 @go-base  _ @lc lalt @flechas mute home left down right end _ _
 _  _  _   _     _ vold _ _ _ pgdn pgup     Enter _
 lctl lmet lalt           Space            ralt rmet rctl
)
(deflayer numbers
								_
caps
 grv  1    2    3    Delete    5    6    7    8    9    Delete    -    =    bspc
 @go-base ðŸ”¢â‚… ðŸ”¢â‚† ðŸ”¢â‚‡ ðŸ”¢â‚ˆ ðŸ”¢â‚‰     prev _ (tap-hold 220 220 ðŸ”¢â„ lalt) S-, @go-base  _ _ _
 @go-base ðŸ”¢â‚€ ðŸ”¢â‚ ðŸ”¢â‚‚ ðŸ”¢â‚ƒ ðŸ”¢â‚„    â–¶â¸ _ (tap-hold 220 220 ðŸ”¢â‚‹ rshift) S-. ðŸ”¢â„ _ _
  S-;     S-;   ðŸ”¢â‚Œ ðŸ”¢â„ ðŸ”¢âˆ— S-=           _ next rctl @rcontrol @rmeta       (multi Enter @go-base) _
 lctl lmet lalt           @go-base            ralt rmet rctl
)
(deflayer f-layer
								_
caps
 grv  1    2    3    4    5    6    7    8    9    0    -    =    bspc
 _ F1 F2 F3 F4 F5    _ _ @ocute _ _  _ _ _
 _ sleep brdown brup _ _ _ _ @ecute @icute @ucute _ _
 F12 F11 F11 F10 F9 _           _  _ lctrl rshift _      _ _
 lctl lmet lalt           Space            ralt rmet rctl
)
(deflayer accents
								_
caps
 grv  1    2    3    4    5    6    7    8    9    0    -    =    bspc
 _ _ _ _ _ _    _ _ @ocute _ _  _ _ _
 _ @wa @ls _ _ _ _ _ @ecute @icute @ucute _ _
 _ _ _ _ _ _          _  _ @wh  _ _       _ _
 lctl lmet lalt           Space            ralt rmet rctl
)
